{"version":3,"file":"context-consumer.js","sources":["../../src/components/context-consumer.hbs","../../src/components/context-consumer.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{yield this.contextValue}}\")","import Component from '@glimmer/component';\nimport { hasContext, getContextValue } from '../-private/utils';\nimport type ContextRegistry from '../context-registry';\n\ninterface ContextConsumerSignature<K extends keyof ContextRegistry> {\n  Args: {\n    key: K;\n    defaultValue?: ContextRegistry[K];\n  };\n  Blocks: {\n    default: [ContextRegistry[K] | undefined];\n  };\n}\n\nexport default class ContextConsumer<\n  K extends keyof ContextRegistry,\n> extends Component<ContextConsumerSignature<K>> {\n  get contextValue(): ContextRegistry[K] | undefined {\n    if (hasContext(this, this.args.key)) {\n      return getContextValue(this, this.args.key);\n    }\n\n    return this.args.defaultValue;\n  }\n}\n"],"names":["ContextConsumer","Component","contextValue","hasContext","args","key","getContextValue","defaultValue","setComponentTemplate","TEMPLATE"],"mappings":";;;;;AACA,eAAe,kBAAkB,CAAC,6BAA6B;;ACahD,MAAMA,eAAe,SAE1BC,SAAS,CAA8B;EAC/C,IAAIC,YAAYA,GAAmC;IACjD,IAAIC,UAAU,CAAC,IAAI,EAAE,IAAI,CAACC,IAAI,CAACC,GAAG,CAAC,EAAE;MACnC,OAAOC,eAAe,CAAC,IAAI,EAAE,IAAI,CAACF,IAAI,CAACC,GAAG,CAAC,CAAA;AAC7C,KAAA;AAEA,IAAA,OAAO,IAAI,CAACD,IAAI,CAACG,YAAY,CAAA;AAC/B,GAAA;AACF,CAAA;AAACC,oBAAA,CAAAC,QAAA,EAVoBT,eAAe,CAAA;;;;"}